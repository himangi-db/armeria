"use strict";(self.webpackChunkarmeria_site=self.webpackChunkarmeria_site||[]).push([[4210],{77266:function(e,t,a){a.r(t),a.d(t,{pageTitle:function(){return i},_frontmatter:function(){return s},default:function(){return u}});var n=a(63366),r=(a(67294),a(64983)),l=a(89791),o=["components"],i="Implementing READ operation",s={},p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",t)}},c=p("TutorialSteps"),g=p("Tabs"),m=p("TabPane"),d=p("Tip"),h={pageTitle:i,_frontmatter:s},v=l.Z;function u(e){var t=e.components,a=(0,n.Z)(e,o);return(0,r.kt)(v,Object.assign({},h,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"implementing-read-operation",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h1",href:"#implementing-read-operation","aria-label":"implementing read operation permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"Implementing READ operation"),(0,r.kt)("h6",{className:"inlinePageToc",role:"navigation"},"Table of contents"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#what-you-need"},"What you need")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#1-implement-server-side"},"1. Implement server-side")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#2-implement-client-side"},"2. Implement client-side")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#3-test-retrieving-multiple-posts"},"3. Test retrieving multiple posts")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#4-decorate-the-client"},"4. Decorate the client")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#5-test-retrieving-a-single-post"},"5. Test retrieving a single post")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#whats-next"},"What's next"))),(0,r.kt)("p",null,"In the earlier step, we tried to create a blog post. In this step, we'll implement a read operation and make a call to read blog posts. We'll write two service methods, one for reading a single post and another for multiple posts."),(0,r.kt)(c,{current:4,mdxType:"TutorialSteps"}),(0,r.kt)("h2",{id:"what-you-need",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#what-you-need","aria-label":"what you need permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"What you need"),(0,r.kt)("p",null,"You need to have:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"/tutorials/grpc/blog/define-service#compile-proto-file"},"Java code generated")),(0,r.kt)("li",{parentName:"ul"},"Main.java"),(0,r.kt)("li",{parentName:"ul"},"BlogService.java"),(0,r.kt)("li",{parentName:"ul"},"BlogClient.java")),(0,r.kt)("h2",{id:"1-implement-server-side",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#1-implement-server-side","aria-label":"1 implement server side permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"1. Implement server-side"),(0,r.kt)("p",null,"Let's write two methods for retrieving blog posts; one for a single post and\nanother for multiple posts."),(0,r.kt)(g,{mdxType:"Tabs"},(0,r.kt)(m,{tab:"Single post",key:"1",mdxType:"TabPane"},(0,r.kt)("p",null,"Add a service method in ",(0,r.kt)("inlineCode",{parentName:"p"},"BlogService.java")," to retrieve a single post."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogService.java",filename:"BlogService.java"},'import example.armeria.blog.grpc.Blog.GetBlogPostRequest;\n\npublic final class BlogService extends BlogServiceGrpc.BlogServiceImplBase {\n\n  @Override\n  public void getBlogPost(GetBlogPostRequest request, StreamObserver<BlogPost> responseObserver) {\n    final BlogPost blogPost = blogPosts.get(request.getId());\n    if (blogPost == null) {\n      responseObserver.onError(\n        Status.NOT_FOUND.withDescription("The blog post does not exist. ID: " + request.getId())\n                        .asRuntimeException());\n    } else {\n        responseObserver.onNext(blogPost);\n        responseObserver.onCompleted();\n    }\n  }\n}\n'))),(0,r.kt)(m,{tab:"Multiple posts",key:"2",mdxType:"TabPane"},(0,r.kt)("p",null,"Add a service method in ",(0,r.kt)("inlineCode",{parentName:"p"},"BlogService.java")," to retrieve multiple posts."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogService.java",filename:"BlogService.java"},"import java.util.Collection;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Map.Entry;\n\nimport example.armeria.blog.grpc.Blog.ListBlogPostsRequest;\nimport example.armeria.blog.grpc.Blog.ListBlogPostsResponse;\n\nfinal class BlogService extends BlogServiceGrpc.BlogServiceImplBase {\n  @Override\n  public void listBlogPosts(ListBlogPostsRequest request,\n                            StreamObserver<ListBlogPostsResponse> responseObserver) {\n      final Collection<BlogPost> blogPosts;\n      if (request.getDescending()) {\n          blogPosts = this.blogPosts.entrySet()\n                                    .stream()\n                                    .sorted(Collections.reverseOrder(Comparator.comparingInt(Entry::getKey)))\n                                    .map(Entry::getValue).collect(Collectors.toList());\n      } else {\n          blogPosts = this.blogPosts.values();\n      }\n      responseObserver.onNext(ListBlogPostsResponse.newBuilder().addAllBlogs(blogPosts).build());\n      responseObserver.onCompleted();\n  }\n}\n")))),(0,r.kt)("h2",{id:"2-implement-client-side",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#2-implement-client-side","aria-label":"2 implement client side permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"2. Implement client-side"),(0,r.kt)("p",null,"This time, we'll implement a client method for each corresponding server method."),(0,r.kt)(g,{mdxType:"Tabs"},(0,r.kt)(m,{tab:"Single post",key:"1",mdxType:"TabPane"},(0,r.kt)("p",null,"  Add a method in the ",(0,r.kt)("inlineCode",{parentName:"p"},"BlogClient.java")," to retrieve a single post."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},"import example.armeria.blog.grpc.Blog.GetBlogPostRequest;\n...\nstatic void getBlogPost(int id) {\n  final BlogPost blogPost = client.getBlogPost(GetBlogPostRequest.newBuilder().setId(id).build());\n}\n"))),(0,r.kt)(m,{tab:"Multiple posts",key:"2",mdxType:"TabPane"},(0,r.kt)("p",null,"  Add a method in the ",(0,r.kt)("inlineCode",{parentName:"p"},"BlogClient.java")," to retrieve a list of posts."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},"import example.armeria.blog.grpc.Blog.ListBlogPostsRequest;\nimport example.armeria.blog.grpc.Blog.ListBlogPostsResponse;\n\n...\nstatic void listBlogPosts() {\n  final ListBlogPostsResponse\n          response = client.listBlogPosts(ListBlogPostsRequest.newBuilder().setDescending(false).build());\n\n  final List<BlogPost> blogs = response.getBlogsList();\n}\n")))),(0,r.kt)("h2",{id:"3-test-retrieving-multiple-posts",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#3-test-retrieving-multiple-posts","aria-label":"3 test retrieving multiple posts permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"3. Test retrieving multiple posts"),(0,r.kt)("p",null,"Let's start off with retrieving all the blog posts there are:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Add the ",(0,r.kt)("inlineCode",{parentName:"li"},"listBlogPosts()")," method in the test call.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},'static void testRun() {\n  createBlogPost("Another blog post", "Creating a post via createBlogPost().");\n  listBlogPosts();\n}\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/tutorials/grpc/blog/run-service#3-serve-the-service"},"Re-run the server"),". Your server is running if you see the following message.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"[armeria-boss-http-*:8080] INFO com.linecorp.armeria.server.Server - Serving HTTP at /[0:0:0:0:0:0:0:0]:8080 - http://127.0.0.1:8080/\n"))),(0,r.kt)("li",{parentName:"ol"},"Run the client.")),(0,r.kt)("p",null,"Since we haven't added any log messages, we can't tell if we've successfully retrieved blog posts or not. To check the result, we'll add in a decorator in the following step. Not only can we see the blog posts retrieved, we can obtain IDs to retrieve a post later on."),(0,r.kt)("h2",{id:"4-decorate-the-client",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#4-decorate-the-client","aria-label":"4 decorate the client permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"4. Decorate the client"),(0,r.kt)("p",null,"Retrieving a single blog post requires a post ID. We haven't saved any post ID returned by the server. (Although we very much know that our tutorial service issues incremental ID.). To check IDs, we'll decorate the client with Armeria's ",(0,r.kt)("a",{parentName:"p",href:"type://LoggingClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/logging/LoggingClient.html"},"type://LoggingClient"),". Likewise, you can decorate your service also. To decorate your service, use the ",(0,r.kt)("a",{parentName:"p",href:"https://armeria.dev/docs/server-decorator"},"server decorator")," or annotate your gRPC stub class with ",(0,r.kt)("a",{parentName:"p",href:"type://@LoggingDecorator:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/decorator/LoggingDecorator.html"},"type://@LoggingDecorator"),"."),(0,r.kt)(d,{mdxType:"Tip"},(0,r.kt)("p",null,"  Another option available is interceptor. See ",(0,r.kt)("a",{parentName:"p",href:"type://GrpcClientBuilder#intercept(Iterable):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/grpc/GrpcClientBuilder.html#intercept(java.lang.Iterable)"},"type://GrpcClientBuilder#intercept(Iterable)")," for information.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Add a decorator to the client instance."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},'import com.linecorp.armeria.client.logging.LoggingClient;\nimport com.linecorp.armeria.client.logging.LoggingClient;\n\nclass BlogClient {\n  public static void main(String[] args) throws Exception {\n    ...\n    client = GrpcClients.builder("http://127.0.0.1:8080/")\n                        .decorator(LoggingClient.newDecorator())  // add this\n                        .build(BlogServiceBlockingStub.class);\n  }\n}\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Set up log messages:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Add a dependency in the build.gradle file."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-groovy",metastring:"filename=build.gradle",filename:"build.gradle"},"dependencies {\n  implementation 'ch.qos.logback:logback-classic:1.2.10'\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Add the logback.xml file in the {project_root}/src/main/resources folder."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"filename=logback.xml",filename:"logback.xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<configuration>\n\n  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">\n    <encoder>\n      <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>\n    </encoder>\n  </appender>\n\n  <root level="debug">\n    <appender-ref ref="STDOUT" />\n  </root>\n</configuration>\n'))))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Restart the server and run the client. If we succeed, we'll see an output like the following."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'[armeria-common-worker-nio-2-1] DEBUG c.l.a.client.logging.LoggingClient - [creqId=2f0fef66, chanId=0b350a6d, laddr=127.0.0.1:50824, raddr=127.0.0.1:8080][http://127.0.0.1:8080/example.armeria.blog.grpc.BlogService/ListBlogPosts#POST] Response: {startTime=2022-03-22T23:36:22.945Z(1645572982945000), length=99B, duration=516µs(516443ns), totalDuration=43986µs(43986061ns), headers=[:status=200, content-type=application/grpc+proto, grpc-encoding=identity, grpc-accept-encoding=gzip, server=Armeria/1.13.1-SNAPSHOT, date=Tue, 03 Feb 2022 23:36:22 GMT], content=CompletableRpcResponse{blogs {\n  title: "My first blog"\n  content: "Yay"\n  createdAt: 1645572982859\n  modifiedAt: 1645572982859\n}\nblogs {\n  id: 1\n  title: "Another blog post"\n  content: "Creating a post via createBlogPost()."\n  createdAt: 1645572982899\n  modifiedAt: 1645572982899\n}\n}, trailers=[EOS, grpc-status=0]}\n')),(0,r.kt)("p",{parentName:"li"},"Now that we have the ID information, we can now retrieve a single post."))),(0,r.kt)("h2",{id:"5-test-retrieving-a-single-post",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#5-test-retrieving-a-single-post","aria-label":"5 test retrieving a single post permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"5. Test retrieving a single post"),(0,r.kt)("p",null,"Let's retrieve the second blog post. Apparently, the ID to use is ",(0,r.kt)("inlineCode",{parentName:"p"},"1"),"."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Call the ",(0,r.kt)("inlineCode",{parentName:"li"},"getBlogPost()")," method.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},'static void testRun() {\n  createBlogPost("Another blog post", "Creating a post via createBlogPost().");\n  listBlogPosts();  // feel free to comment this out or leave it\n  getBlogPost(1);   // add this\n}\n'))),(0,r.kt)("li",{parentName:"ol"},"If you've stopped your server, run it again and then the client.\nBecause we haven't changed any code for creating blog posts, you'll be able to see the response for the ",(0,r.kt)("inlineCode",{parentName:"li"},"getBlogPost()")," as below, whether you are re-running the server or not.\nWe have succeeded in reading a single blog post.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'[armeria-common-worker-nio-2-1] DEBUG c.l.a.client.logging.LoggingClient - [creqId=2f720d33, chanId=de1369e8, laddr=127.0.0.1:53868, raddr=127.0.0.1:8080][http://127.0.0.1:8080/example.armeria.blog.grpc.BlogService/GetBlogPost#POST] Response: {startTime=2022-02-23T02:22:50.689Z(1645582970689000), length=61B, duration=560µs(560871ns), totalDuration=6527µs(6527141ns), headers=[:status=200, content-type=application/grpc+proto, grpc-encoding=identity, grpc-accept-encoding=gzip, server=Armeria/1.13.1-SNAPSHOT, date=Wed, 23 Feb 2022 02:22:50 GMT], content=CompletableRpcResponse{id: 1\ntitle: "Another blog post"\ncontent: "Creating a post via createBlogPost()."\ncreatedAt: 1645572982899\nmodifiedAt: 1645572982899\n}, trailers=[EOS, grpc-status=0]}\n'))),(0,r.kt)("li",{parentName:"ol"},"Check what happens if you retrieve a post that does not exist. Change the argument to 100 and run the client again.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java",metastring:"filename=BlogClient.java",filename:"BlogClient.java"},'static void testRun() {\n  createBlogPost("Another blog post", "Creating a post via createBlogPost().");\n  getBlogPost(100); // Set the argument to 100\n}\n')),"We can see that our ",(0,r.kt)("inlineCode",{parentName:"li"},"getBlogPost()")," method returns the ",(0,r.kt)("inlineCode",{parentName:"li"},"NOT_FOUND")," error as a runtime exception.",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'Exception in thread "main" io.grpc.StatusRuntimeException: NOT_FOUND: The blog post does not exist. ID: 100\n  at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262)\n  at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243)\n  at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156)\n  at example.armeria.blog.grpc.BlogServiceGrpc$BlogServiceBlockingStub.getBlogPost(BlogServiceGrpc.java:376)\n  at example.armeria.client.blog.grpc.BlogClient.getBlogPost(BlogClient.java:101)\n  at example.armeria.client.blog.grpc.BlogClient.testRun(BlogClient.java:52)\n  at example.armeria.client.blog.grpc.BlogClient.main(BlogClient.java:46)\n')))),(0,r.kt)("h2",{id:"whats-next",style:{position:"relative"}},(0,r.kt)("a",{parentName:"h2",href:"#whats-next","aria-label":"whats next permalink",className:"anchor before"},(0,r.kt)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"What's next"),(0,r.kt)("p",null,"Here, we've implemented service methods and client methods to retrieve blog posts. We have also added a decorator. See ",(0,r.kt)("a",{parentName:"p",href:"/docs/client-decorator/"},"Decorating a client")," for more information. Next, we'll implement a method for ",(0,r.kt)("a",{parentName:"p",href:"/tutorials/grpc/blog/implement-update"},"updating a blog post")," and add an exception handler."),(0,r.kt)(c,{current:4,mdxType:"TutorialSteps"}))}u.isMDXComponent=!0},89791:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(25444),r=a(67294),l=JSON.parse('{"root":["index"],"Useful links":{"User manual":"/docs","API documentation":"https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/index.html","Release notes":"/release-notes"},"REST service":["rest/blog","rest/blog/create-server","rest/blog/prepare-data-object","rest/blog/add-services-to-server","rest/blog/implement-create","rest/blog/implement-read","rest/blog/implement-update","rest/blog/implement-delete"],"gRPC service":["grpc/blog","grpc/blog/define-service","grpc/blog/run-service","grpc/blog/implement-create","grpc/blog/implement-read","grpc/blog/implement-update","grpc/blog/implement-delete","grpc/blog/add-docservice"],"Thrift service":{"Coming soon":null}}'),o=a(46731),i=function(e){var t=(0,n.useStaticQuery)("3172452987").allMdx.nodes;return r.createElement(o.Z,Object.assign({},e,{candidateMdxNodes:t,index:l,prefix:"tutorials",menuTitle:!0,pageTitleSuffix:"Armeria tutorial"}))}}}]);
//# sourceMappingURL=component---src-pages-tutorials-grpc-blog-implement-read-mdx-341e6c5eee00d5407e79.js.map